schemaVersion: 2.3.0
metadata:
  generateName: morey-tech-homelab
  version: 0.1.0
components:
  - name: devcontainer
    container:
      image: ghcr.io/morey-tech/homelab/devcontainer:latest
      memoryRequest: 2Gi
      memoryLimit: 4Gi
      cpuRequest: 2000m
      mountSources: true
      sourceMapping: /projects
      env:
        - name: DEFAULT_EXTENSIONS
          value: /tmp/claude-code.vsix
commands:
  - id: install-claude-extension
    exec:
      component: devcontainer
      commandLine: |
        curl -L "https://open-vsx.org/api/Anthropic/claude-code/linux-x64/latest/file/Anthropic.claude-code-2.0.75@linux-x64.vsix" -o /tmp/claude-code.vsix
events:
  postStart:
    - install-claude-extension
