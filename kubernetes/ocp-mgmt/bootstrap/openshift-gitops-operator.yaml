## Install OpenShift GitOps Operator, which will also create an instace of OpenShift GitOps (ArgoCD).
## https://docs.redhat.com/en/documentation/red_hat_openshift_gitops/1.17/html/installing_gitops/installing-openshift-gitops#installing-gitops-operator-using-cli_installing-openshift-gitops

apiVersion: v1
kind: Namespace
metadata:
  name: openshift-gitops-operator
spec: {}
---
apiVersion: operators.coreos.com/v1
kind: OperatorGroup
metadata:
  name: openshift-gitops-operator
  namespace: openshift-gitops-operator
spec:
  upgradeStrategy: Default
---
apiVersion: operators.coreos.com/v1alpha1
kind: Subscription
metadata:
  name: openshift-gitops-operator
  namespace: openshift-gitops-operator
spec:
  channel: latest 
  config:
    env:
      # Manage the default ArgoCD instance seperately.
      - name: DISABLE_DEFAULT_ARGOCD_INSTANCE
        value: "true"
  installPlanApproval: Automatic
  name: openshift-gitops-operator 
  source: redhat-operators 
  sourceNamespace: openshift-marketplace
# ---
# apiVersion: console.openshift.io/v1
# kind: ConsolePlugin
# metadata:
#   name: gitops-plugin
# spec:
#   backend:
#     service:
#       basePath: /
#       name: gitops-plugin
#       namespace: openshift-gitops
#       port: 9001
#     type: Service
#   displayName: GitOps Plugin
#   i18n:
#     loadType: Preload
